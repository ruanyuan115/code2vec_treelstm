double abs(double x) {
    return x < 0 ? -x : x;
}