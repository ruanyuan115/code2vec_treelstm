private int next(int x) {
    return x + 1 >= n ? 0 : x + 1;
}